#!/bin/sh
# Git pre-push hook to run type checking and build before pushing
# This helps catch errors before they reach Vercel

echo "ğŸ” Running pre-push checks..."
echo ""

# Run type checking
echo "ğŸ“ Type checking..."
npm run type-check
if [ $? -ne 0 ]; then
  echo "âŒ Type checking failed! Please fix the errors before pushing."
  exit 1
fi

echo "âœ… Type checking passed!"
echo ""

# Run linting
echo "ğŸ” Linting..."
npm run lint
if [ $? -ne 0 ]; then
  echo "âš ï¸  Linting found issues (warnings are OK, but errors should be fixed)"
  # Don't fail on lint warnings, only on errors
fi

echo "âœ… Pre-push checks passed! Pushing to remote..."
echo ""

exit 0

